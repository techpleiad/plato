<h2 mat-dialog-title class="dialog-title dialog-title">Custom Validation</h2>
<hr>
<mat-dialog-content>
  <form>
    <div class="mb-3">
        <app-dropdown [dropdownList]="services" [label]=" 'SELECT SERVICE NAME' " (change)="setFunction($event)" ></app-dropdown>
        <div style="height:20px;">
          <span *ngIf="!isServiceValid" class="text-danger">
            Please select service name
          </span>
        </div>
    </div>
    <div class="mb-3">
        <mat-form-field appearance="fill">
            <mat-label>BRANCHES <span class="text-danger mr-1">*</span></mat-label>
            <mat-select [formControl]="branches" multiple>
                <mat-option *ngFor="let branch of branchList" [value]="branch">{{branch}}</mat-option>
            </mat-select>
        </mat-form-field>
        <div style="height:20px;">
            <span *ngIf="!isBranchValid" class="text-danger">
              Please select branches
            </span>
        </div>
    </div>
    <div class="mb-3">
        <mat-form-field appearance="fill">
            <mat-label>PROFILES <span class="text-danger mr-1">*</span></mat-label>
            <mat-select [formControl]="profiles" multiple>
                <mat-option *ngFor="let profile of profileList" [value]="profile">{{profile}}</mat-option>
            </mat-select>
        </mat-form-field>
        <div style="height:20px;">
            <span *ngIf="!isProfileValid" class="text-danger">
              Please select profiles
            </span>
        </div>
    </div>
    <div class="mb-3">
        <mat-form-field class="example-chip-list">
            <mat-label><span class="text-danger mr-1">*</span>RECIPIENTS EMAIL</mat-label>
            <mat-chip-list #chipList aria-label="Recipients selection">
            <mat-chip *ngFor="let recipient of recipients" [selectable]="selectable"
                    [removable]="removable" (removed)="remove(recipient)">
                {{recipient}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
            <input placeholder="New Recipient..."
                    [matChipInputFor]="chipList"
                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                    [matChipInputAddOnBlur]="addOnBlur"
                    (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
        </mat-form-field>
        <div style="height:20px;">
          <span *ngIf="!isRecipientValid" class="text-danger">
            Please enter recipient name
          </span>
          <br>
          <span *ngIf="!isEmailValid" class="text-danger">
            Please enter valid email
          </span>
        </div>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <app-btn [label]=" 'Cancel' " [icon]="'cancel'" [isCancel]="true" (clicked)="closeDialog()"></app-btn> 
  <app-btn (clicked)="customValidate()" [label]=" 'Send Mail' " [icon]="'email'"></app-btn>
  <mat-progress-spinner mode="indeterminate" diameter="30" [hidden]="!visibleProgressSpinner"></mat-progress-spinner>
</mat-dialog-actions>
